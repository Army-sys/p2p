$(function(){var s=$("#nickname"),l=$("#phone"),i=$("#email"),n=!1,o=!1,v=!1;s.blur(function(){var e=$(this).val(),t=$(this).next();n=/^[\u4E00-\u9FA5A-Za-z0-9_]+$/.test(e)?(t.text("").removeClass("error"),s.removeClass("active"),!0):(t.html("请输入正确用户名").addClass("error"),s.addClass("active"),!1)}),l.blur(function(){var e=$(this).val(),t=$(this).next();o=/^.{3,20}$/.test(e)?(t.text("").removeClass("error"),$(e).removeClass("active"),!0):(t.text("请输入3-20位电话号码").addClass("error"),l.addClass("active"),!1)}),i.blur(function(){var e=$(this).val(),t=$(this).next();v=/^(([a-zA-Z0-9_\-\.]+)@([a-zA-Z0-9_\-\.]+)\.([a-zA-Z]{2,5}){1,25})$/.test(e)?(t.text("").removeClass("error"),i.removeClass("active"),!0):(t.text("请输入正确邮箱").addClass("error"),i.addClass("active"),!1)}),$("#btn").click(function(){var e=$("#nickname").val(),t=$("#phone").val(),a=$("#email").val(),r=localStorage.getItem("pid");if(!(n&&o&&v))return l.trigger("blur"),i.trigger("blur"),s.trigger("blur"),!1;$.ajax({url:"http://127.0.0.1:8848/updateuser.php",type:"POST",data:{nickname:e,phone:t,email:a,id:r},success:function(e){"ok"==e?(alert("恭喜你,修改成功!!!"),location.href="index.html#per-conter/getuserinfo"):alert("保存失败,请稍后再试!")}})})});